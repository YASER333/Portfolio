import{R as X,b as t,j as e}from"./animation-vendor-CdFIyzUb.js";import{V as G,u as q,M as J,a as C,b as Y,d as H,C as B,S as E,T as K,A as Q,e as A,f as ee,g as te,E as se,h as re}from"./three-vendor-Bu1Pex88.js";import{u as oe}from"./index-C2rFzEl_.js";import"./icons-vendor-DjdtenI2.js";const F={stiffness:.02,damping:.9},ne=({currentSection:s,mouse:h,theme:M,scale:u=1})=>{const a=t.useRef(),r=t.useRef(),c=t.useRef(),o=t.useRef(),p=t.useRef([]),z=t.useRef(),[S]=t.useState(()=>new G(0,-3,-5)),[I]=t.useState(()=>new G),[T]=t.useState(()=>new G),[N,P]=t.useState(!1),{viewport:V}=q(),L=V.width<5,d=M==="dark",m=t.useMemo(()=>({body:d?"#1a1a1a":"#f0f0f0",accent:d?"#00e5ff":"#2196f3",joint:d?"#111":"#e0e0e0",glow:d?"#00e5ff":"#2196f3"}),[d]),n=t.useMemo(()=>({chrome:new C({color:m.body,roughness:.2,metalness:.8,transmission:.6,thickness:2,transparent:!0,opacity:.5,envMapIntensity:.8}),accent:new Y({color:m.accent,roughness:.2,metalness:.9,emissive:m.accent,emissiveIntensity:.1}),joint:new Y({color:m.joint,roughness:.7,metalness:.5,transparent:!0,opacity:.8}),glass:new C({color:d?"#000":"#fff",roughness:.1,metalness:.1,transmission:.9,transparent:!0,opacity:.2}),glow:new J({color:m.glow,toneMapped:!1,transparent:!0,opacity:.6})}),[m,d]);return t.useEffect(()=>{const i=setInterval(()=>{Math.random()>.8&&(P(!0),setTimeout(()=>P(!1),200))},4e3);return()=>clearInterval(i)},[]),H((i,D)=>{const k=i.clock.elapsedTime,f=(v,R,$)=>A.lerp(v,R,D*$),j=L?1.5:5.5,g=L?-3:-2,y=-6;let l={x:j,y:g,z:y},x={x:0,y:0},w={x:0,z:-.5},W={z:.5},b={x:0,y:-.3};switch(s){case 0:l={x:j,y:g,z:y},x={x:-.1,y:-.2},b={x:0,y:-.4};break;case 1:l={x:j,y:g,z:y+1},b={x:.1,y:-.6},x={x:.1,y:-.3};break;case 2:l={x:j,y:g+.5,z:y},w={x:.5,z:-.2},x={x:-.2,y:0};break;case 3:l={x:j+1,y:g,z:y-2},b={x:0,y:-.8},x={x:0,y:-.5};break;case 4:l={x:j,y:g+1,z:y+1.5},b={x:.2,y:-.2},x={x:.3,y:-.2},w={x:.4,z:-1};break;case 5:l={x:j,y:g-.5,z:y+2},x={x:.2,y:0},w={x:.8,z:-.5};break}I.set(l.x,l.y,l.z);const O=new G().subVectors(I,S).multiplyScalar(F.stiffness),U=T.clone().multiplyScalar(F.damping),Z=O.sub(U);T.add(Z),S.add(T);const _=Math.sin(k*.8)*.1;if(a.current&&(a.current.position.set(S.x,S.y+_,S.z),a.current.scale.setScalar(u),a.current.rotation.y=f(a.current.rotation.y,b.y,2),a.current.rotation.x=f(a.current.rotation.x,b.x,2)),r.current){const v=h.current[0]*.2,R=h.current[1]*.2;r.current.rotation.y=f(r.current.rotation.y,x.y+v,3),r.current.rotation.x=f(r.current.rotation.x,x.x-R,3)}o.current&&c.current&&(s===5&&(w.z=-2.5+Math.sin(k*4)*.3,w.x=.5),o.current.rotation.z=f(o.current.rotation.z,w.z,2),o.current.rotation.x=f(o.current.rotation.x,w.x,2),c.current.rotation.z=f(c.current.rotation.z,W.z+Math.sin(k)*.05,2)),p.current.forEach((v,R)=>{v&&(v.rotation.z=Math.sin(k*.5+R)*.02)}),z.current&&z.current.scale.setScalar(1+Math.sin(k*2)*.05)}),e.jsxs("group",{ref:a,dispose:null,children:[e.jsxs("group",{ref:i=>p.current[0]=i,position:[0,.5,0],children:[e.jsx("mesh",{geometry:new B(.4,.35,.6,8),children:e.jsx("primitive",{object:n.chrome})}),e.jsxs("group",{ref:r,position:[0,.6,0],children:[e.jsxs("mesh",{position:[0,.2,0],children:[e.jsx("boxGeometry",{args:[.5,.4,.5]}),e.jsx("primitive",{object:n.chrome})]}),e.jsxs("mesh",{position:[0,.2,.26],children:[e.jsx("boxGeometry",{args:[.42,.15,.05]}),e.jsx("primitive",{object:n.glass})]}),e.jsxs("mesh",{position:[0,.2,.26],scale:[1,N?.05:1,1],children:[e.jsx("boxGeometry",{args:[.3,.05,.06]}),e.jsx("primitive",{object:n.glow})]})]}),e.jsxs("group",{ref:c,position:[-.55,.2,0],children:[e.jsx("mesh",{geometry:new E(.18),children:e.jsx("primitive",{object:n.chrome})}),e.jsxs("mesh",{position:[0,-.4,0],children:[e.jsx("capsuleGeometry",{args:[.12,.7]}),e.jsx("primitive",{object:n.chrome})]})]}),e.jsxs("group",{ref:o,position:[.55,.2,0],children:[e.jsx("mesh",{geometry:new E(.18),children:e.jsx("primitive",{object:n.chrome})}),e.jsxs("mesh",{position:[0,-.4,0],children:[e.jsx("capsuleGeometry",{args:[.12,.7]}),e.jsx("primitive",{object:n.chrome})]}),e.jsx("group",{position:[0,-.8,0],children:e.jsx(K,{width:.4,length:4,color:m.accent,attenuation:i=>i*i,children:e.jsxs("mesh",{visible:!1,children:[e.jsx("sphereGeometry",{args:[.1]}),e.jsx("meshBasicMaterial",{})]})})})]})]}),e.jsxs("group",{ref:i=>p.current[1]=i,position:[0,0,0],children:[e.jsx("mesh",{geometry:new E(.28),children:e.jsx("primitive",{object:n.joint})}),e.jsxs("mesh",{position:[0,0,.25],rotation:[1.57,0,0],children:[e.jsx("torusGeometry",{args:[.18,.04,16,32]}),e.jsx("primitive",{object:n.glow})]})]}),e.jsxs("group",{ref:i=>p.current[2]=i,position:[0,-.5,0],children:[e.jsx("mesh",{geometry:new B(.25,.1,.6,8),children:e.jsx("primitive",{object:n.chrome})}),e.jsx("group",{position:[0,-.4,0],children:e.jsxs("mesh",{ref:z,rotation:[Math.PI,0,0],children:[e.jsx("coneGeometry",{args:[.2,.6,16,1,!0]}),e.jsx("primitive",{object:n.glow}),e.jsx("meshBasicMaterial",{color:m.accent,transparent:!0,opacity:.4,blending:Q,depthWrite:!1})]})})]})]})},ie=X.memo(ne),ae=({theme:s})=>{const[h,M]=t.useState(0),u=t.useRef([0,0]);t.useEffect(()=>{const r=()=>{const o=window.scrollY,p=window.innerHeight,z=Math.round(o/(p*.8));M(z)},c=o=>{u.current=[o.clientX/window.innerWidth*2-1,-(o.clientY/window.innerHeight)*2+1]};return window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("mousemove",c,{passive:!0}),()=>{window.removeEventListener("scroll",r),window.removeEventListener("mousemove",c)}},[]);const a=()=>(H((r,c)=>{const o=u.current[0]*.5,p=u.current[1]*.5;A.damp(r.camera.position,"x",o,.1,c),A.damp(r.camera.position,"y",p,.1,c),r.camera.lookAt(0,0,0)}),null);return e.jsxs(e.Fragment,{children:[e.jsx("fog",{attach:"fog",args:[s==="dark"?"#050505":"#f0f0f0",5,25]}),e.jsx(se,{preset:s==="dark"?"city":"studio",blur:.8,intensity:.5}),e.jsx("spotLight",{position:[10,10,10],angle:.3,penumbra:1,intensity:s==="dark"?1:.8,color:s==="dark"?"#00f2ff":"#ffffff",castShadow:!0}),e.jsx("spotLight",{position:[0,5,-10],intensity:s==="dark"?4:2,color:s==="dark"?"#ff0055":"#e6e6e6",angle:.5}),e.jsx("pointLight",{position:[-5,-2,5],intensity:.2,color:"#ffffff"}),e.jsx(ie,{currentSection:h,mouse:u,theme:s,scale:2.5}),e.jsx(re,{resolution:1024,scale:20,blur:3,opacity:.5,far:10,color:s==="dark"?"#000000":"#8a8a8a"}),e.jsx(a,{})]})},me=()=>{const{theme:s}=oe(),[h,M]=t.useState(!1);return t.useEffect(()=>{const u=setTimeout(()=>M(!0),100);return()=>clearTimeout(u)},[]),e.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen z-0 pointer-events-none",style:{position:"fixed",zIndex:0,opacity:h?1:0,transform:h?"scale(1)":"scale(0.95)",transition:"opacity 1.2s ease-out, transform 1.2s ease-out"},children:e.jsx(ee,{shadows:!0,dpr:[1,2],gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",toneMapping:te,toneMappingExposure:.9},camera:{position:[0,0,10],fov:40},children:e.jsx(X.Suspense,{fallback:null,children:e.jsx(ae,{theme:s})})})})};export{me as default};
